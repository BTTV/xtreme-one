(function(a){a(document).ready(function(){a("body").bind("convert_checkboxes",function(c,b){a(".checkbox-js",b).each(function(f,g){var e=a(g).attr("name");var d=a(g).hasClass("checkbox-inverse");var k=a(g).val();var j="x-yes";var h=e;if(a(g).attr("checked")){j="x-yes";if(d){j="x-no";}}else{j="x-no";h="";if(d){j="x-yes";}}if(a(g).hasClass("x-no-locked")){j+=" x-no-locked";}if(a(g).hasClass("x-yes-locked")){j+=" x-yes-locked";}a(g).replaceWith('<a target="'+e+'" rel="'+(d?"inverse":"")+'" href="#" class="alignleft x-yesno '+j+'"><input type="hidden" name="'+h+'" value="'+k+'" /></a>');});});a("body").trigger("convert_checkboxes",document);a(".x-yesno").live("click",function(e){e.preventDefault();if(a(this).hasClass("x-no-locked")||a(this).hasClass("x-no-locked")){return;}a(this).toggleClass("x-yes").toggleClass("x-no");var b=a(this).attr("rel")=="inverse";var d=a(this).attr("target");if(a(this).hasClass("x-yes")){if(b){d="";}}else{if(!b){d="";}}a(this).find("input").attr("name",d);a("body").trigger("change_group",a(this));if(a("body").hasClass("widgets-php")){var c=a(this).find("input").val()||"";if(a(this).hasClass("x-no")||a(this).hasClass("x-no-locked")){a(".warning-"+c,a(this).closest(".widget")).addClass("x-warning");}else{a(".warning-"+c,a(this).closest(".widget")).removeClass("x-warning");}}else{var c=a(this).attr("target").replace("filter-","").replace("[]","");if(a(this).hasClass("x-no")||a(this).hasClass("x-no-locked")){a(".warning-"+c,a(this).closest(".x-admin-widget")).addClass("x-warning");}else{a(".warning-"+c,a(this).closest(".x-admin-widget")).removeClass("x-warning");}}});a(".x-filter-section .x-yesno").live("click",function(b){if(a("body").hasClass("widgets-php")){a("body").trigger("visualize_filter_state",a(this).closest(".widget"));}else{a("body").trigger("visualize_filter_state",a(this).closest(".x-admin-widget"));}});a("body").bind("change_group",function(d,b){if(a(b).attr("target").match(/_group$/)){var c=a(b);c.closest(".postbox").find("div .x-admin-widget span a.x-yesno").each(function(e,f){if(c.hasClass("x-yes")){if(a(f).hasClass("x-no")){a(f).trigger("click");}}else{if(a(f).hasClass("x-yes")){a(f).trigger("click");}}});}});a('a.x-yesno[target="enable_filter_system"]').click(function(b){b.preventDefault();a(".x-filter-wrapper").toggle(a(this).hasClass("x-yes"));});a(".x-filter-wrapper").toggle(a('a.x-yesno[target="enable_filter_system"]').hasClass("x-yes"));a(".x-admin-widget .x-edit-filter").click(function(b){b.preventDefault();a(this).closest(".x-admin-widget").find(".x-filter-section").removeClass("x-hidden");a(this).closest(".x-admin-widget").find(".x-edit-filter").addClass("x-hidden");a(this).closest(".x-admin-widget").find(".x-done-filter").removeClass("x-hidden");});a(".x-admin-widget .x-done-filter").click(function(b){b.preventDefault();a(this).closest(".x-admin-widget").find(".x-filter-section").addClass("x-hidden");a(this).closest(".x-admin-widget").find(".x-edit-filter").removeClass("x-hidden");a(this).closest(".x-admin-widget").find(".x-done-filter").addClass("x-hidden");});a(".x-admin-widget .x-remove-all-filter").click(function(b){b.preventDefault();a(this).closest(".x-admin-widget").find(".x-filter-section a.x-yesno").each(function(c,d){if(a(d).hasClass("x-no")){a(d).trigger("click");}});a(this).closest(".x-admin-widget").find(".x-done-filter").trigger("click");});a("body").bind("visualize_filter_state",function(c,b){a(".x-filter-section",b).each(function(e,f){var d=false;if(a("body").hasClass("widgets-php")){a(this).closest(".widget").find(".x-filter-section a.x-yesno").each(function(h,j){d=d||a(j).hasClass("x-no");d=d||a(j).hasClass("x-no-locked");if(a(j).hasClass("x-yes")){var g=a(j).parent().parent().find(".xtreme-fex input").val()||"";d=d||(g.length!=0);}});if(d){a(this).closest(".widget").find(".widget-title h4").addClass("x-active-filter");}else{a(this).closest(".widget").find(".widget-title h4").removeClass("x-active-filter");}}else{a(this).closest(".x-admin-widget").find(".x-filter-section a.x-yesno").each(function(g,h){d=d|a(h).hasClass("x-no");});if(d){a(this).closest(".x-admin-widget").find("span").addClass("x-active-filter");a(this).closest(".x-admin-widget").css({"background-color":"#FFF6B5"});}else{a(this).closest(".x-admin-widget").find("span").removeClass("x-active-filter");a(this).closest(".x-admin-widget").css({"background-color":""});}}});});a("body").trigger("visualize_filter_state",document);a("input").attr("autocomplete","off");});})(jQuery);