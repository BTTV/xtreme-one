/**
 * jqFancyTransitions - jQuery plugin
 * @version: 1.8 (2010/06/13)
 * @requires jQuery v1.2.2 or later 
 * @author Ivan Lazarevic
 * Examples and documentation at: http://www.workshop.rs/projects/jqfancytransitions
 
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 
 * Modified for parallel work with Coin Slider:
 *   Heiko Rabe - http://www.code-styling.de
**/
(function(h){var a=new Array;var b=new Array;var i=new Array;var m=new Array;var l=new Array;var e=new Array;var c=new Array;var d=new Array;var f=new Array;var g=new Array;h.fn.jqFancyTransitions=h.fn.jqfancytransitions=function(n){init=function(o){a[o.id]=h.extend({},h.fn.jqFancyTransitions.defaults,n);i[o.id]=new Array();m[o.id]=new Array();l[o.id]=new Array();e[o.id]=new Array();c[o.id]=0;d[o.id]=0;params=a[o.id];if(params.effect=="zipper"){params.direction="alternate";params.position="alternate";}if(params.effect=="wave"){params.direction="alternate";params.position="top";}if(params.effect=="curtain"){params.direction="alternate";params.position="curtain";}stripWidth=parseInt(params.width/params.strips);gap=params.width-stripWidth*params.strips;stripLeft=0;h.each(h("#"+o.id+" img"),function(p,q){i[o.id][p]=h(q).attr("src");m[o.id][p]=h(q).next().attr("href");l[o.id][p]=h(q).attr("alt")?h(q).attr("alt"):"";h(q).hide();});h("#"+o.id).css({"background-image":"url("+i[o.id][0]+")",width:params.width,height:params.height,position:"relative","background-position":"top left"});h("#"+o.id).append("<div class='ft-title' id='ft-title-"+o.id+"' style='position: absolute; bottom:0; left: 0; z-index: 2; color: #fff; background-color: #000; '>"+l[o.id][0]+"</div>");if(l[o.id][c[o.id]]){h("#ft-title-"+o.id).css("opacity",a[o.id].titleOpacity);}else{h("#ft-title-"+o.id).css("opacity",0);}if(params.navigation){h.navigation(o);h("#ft-buttons-"+o.id).children().first().addClass("ft-active ft-button-"+o.id+"-active");}odd=1;for(j=1;j<params.strips+1;j++){if(gap>0){tstripWidth=stripWidth+1;gap--;}else{tstripWidth=stripWidth;}if(params.links){h("#"+o.id).append("<a href='"+m[o.id][0]+"' class='ft-"+o.id+"' id='ft-"+o.id+j+"' style='width:"+tstripWidth+"px; height:"+params.height+"px; float: left; position: absolute;outline:none;'></a>");}else{h("#"+o.id).append("<div class='ft-"+o.id+"' id='ft-"+o.id+j+"' style='width:"+tstripWidth+"px; height:"+params.height+"px; float: left; position: absolute;'></div>");}h("#ft-"+o.id+j).css({"background-position":-stripLeft+"px top",left:stripLeft});stripLeft+=tstripWidth;if(params.position=="bottom"){h("#ft-"+o.id+j).css("bottom",0);}if(j%2==0&&params.position=="alternate"){h("#ft-"+o.id+j).css("bottom",0);}if(params.direction=="fountain"||params.direction=="fountainAlternate"){e[o.id][j-1]=parseInt(params.strips/2)-(parseInt(j/2)*odd);e[o.id][params.strips-1]=params.strips;odd*=-1;}else{e[o.id][j-1]=j;}}h(".ft-"+o.id).mouseover(function(){a[o.id].pause=true;});h(".ft-"+o.id).mouseout(function(){a[o.id].pause=false;});h("#ft-title-"+o.id).mouseover(function(){a[o.id].pause=true;});h("#ft-title-"+o.id).mouseout(function(){a[o.id].pause=false;});clearInterval(g[o.id]);g[o.id]=setInterval(function(){h.fancy_transition(o);},params.delay+params.stripDelay*params.strips);};h.fancy_transition=function(o,p){if(a[o.id].pause==true){return;}f[o.id]=setInterval(function(){h.strips(e[o.id][d[o.id]],o);},a[o.id].stripDelay);h("#"+o.id).css({"background-image":"url("+i[o.id][c[o.id]]+")"});if(typeof(p)=="undefined"){c[o.id]++;}else{if(p=="prev"){c[o.id]--;}else{c[o.id]=p;}}if(c[o.id]==i[o.id].length){c[o.id]=0;}if(c[o.id]==-1){c[o.id]=i[o.id].length-1;}if(l[o.id][c[o.id]]!=""){h("#ft-title-"+o.id).animate({opacity:0},a[o.id].titleSpeed,function(){h(this).html(l[o.id][c[o.id]]).animate({opacity:a[o.id].titleOpacity},a[o.id].titleSpeed);});}else{h("#ft-title-"+o.id).animate({opacity:0},a[o.id].titleSpeed);}d[o.id]=0;buttons=h("#ft-buttons-"+o.id).children();buttons.each(function(q){if(q==c[o.id]){h(this).addClass("ft-active ft-button-"+o.id+"-active");}else{h(this).removeClass("ft-active ft-button-"+o.id+"-active");}});if(a[o.id].direction=="random"){h.fisherYates(e[o.id]);}if((a[o.id].direction=="right"&&e[o.id][0]==1)||a[o.id].direction=="alternate"||a[o.id].direction=="fountainAlternate"){e[o.id].reverse();}};h.strips=function(p,o){temp=a[o.id].strips;if(d[o.id]==temp){clearInterval(f[o.id]);return;}h(".ft-"+o.id).attr("href",m[o.id][c[o.id]]);if(a[o.id].position=="curtain"){currWidth=h("#ft-"+o.id+p).width();h("#ft-"+o.id+p).css({width:0,opacity:0,"background-image":"url("+i[o.id][c[o.id]]+")"});h("#ft-"+o.id+p).animate({width:currWidth,opacity:1},1000);}else{h("#ft-"+o.id+p).css({height:0,opacity:0,"background-image":"url("+i[o.id][c[o.id]]+")"});h("#ft-"+o.id+p).animate({height:a[o.id].height,opacity:1},1000);}d[o.id]++;};h.navigation=function(o){h("#"+o.id).append("<a href='#' id='ft-prev-"+o.id+"' class='ft-prev'>prev</a>");h("#"+o.id).append("<a href='#' id='ft-next-"+o.id+"' class='ft-next'>next</a>");h("#ft-prev-"+o.id).css({position:"absolute",top:params.height/2-15,left:0,"z-index":1001,"line-height":"30px",opacity:0.7}).click(function(p){p.preventDefault();h.fancy_transition(o,"prev");clearInterval(g[o.id]);g[o.id]=setInterval(function(){h.fancy_transition(o);},params.delay+params.stripDelay*params.strips);});h("#ft-next-"+o.id).css({position:"absolute",top:params.height/2-15,right:0,"z-index":1001,"line-height":"30px",opacity:0.7}).click(function(p){p.preventDefault();h.fancy_transition(o);clearInterval(g[o.id]);g[o.id]=setInterval(function(){h.fancy_transition(o);},params.delay+params.stripDelay*params.strips);});h("<div id='ft-buttons-"+o.id+"' class='ft-buttons'></div>").insertAfter(h("#"+o.id));h("#ft-buttons-"+o.id).css({width:a[o.id].width});for(k=1;k<i[o.id].length+1;k++){h("#ft-buttons-"+o.id).append("<a href='#' class='ft-button ft-button-"+o.id+"'>"+k+"</a>");}h.each(h(".ft-button-"+o.id),function(p,q){h(q).click(function(r){r.preventDefault();h.fancy_transition(o,p);clearInterval(g[o.id]);g[o.id]=setInterval(function(){h.fancy_transition(o);},params.delay+params.stripDelay*params.strips);});});};h.fisherYates=function(o){var q=o.length;if(q==0){return false;}while(--q){var p=Math.floor(Math.random()*(q+1));var s=o[q];var r=o[p];o[q]=r;o[p]=s;}};this.each(function(){init(this);});};h.fn.jqFancyTransitions.defaults={width:500,height:332,strips:10,delay:5000,stripDelay:50,titleOpacity:0.7,titleSpeed:1000,position:"alternate",direction:"fountainAlternate",effect:"",navigation:false,links:false};})(jQuery);